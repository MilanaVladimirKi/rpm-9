# Способы установки программ. 

В Linux существует несколько способов установки программ.

1 Программа распространяется в виде архива исходных кодах *.tar.gz, которые необходимо распаковать и, в простейшем случае, откомпилировать с помощью команд make, make install.

Шаги: 

1. Скачиваете архив исходного кода приложения
2. Распаковываете скачанный архив
3. make
4. sudo make install

2 Воспользоваться пакетным менеджером и пакетами с исходным кодом. 

3 Воспользоваться менеджером пакетов и установить программу, которая распространяется в виде пакета откомпилированных файлов.


## 1 Как именуются пакеты? 

Принципы именования пакетов rpm: 

Имя пакета характеризует сам пакет, его версию, версию сборки исполняемых файлов (релиз) и архитектуру и задается в виде «имя_программы-версия-релиз.платформа» или «src.rpm». 

Наиболее распространенные названия архитектур, используемые в пакетах rpm: 

i586 Пакет поддерживается всеми процессорами Pentium и более новыми 

i686 Для работы требуется процессор Pentium II и выше 

x86_64 Процессоры AMD Operon и Pentium 4 с поддержкой инструкций EM64T. Пакет с такой меткой скомпилирован для работы в 64 битном режиме, то есть не совместим с 32 битными процессорами. Также не будет работать под управлением 32 битного ядра Linux

IA64 Метка указывает на 64 разрядные процессоры Itanium. 


## 2 Опишите информацию, содержащуюся в пакете. 

Полный формат rpm-файла - это четыре секции.

1) Начальный идентификатор, помечающий файл как rpm-пакет. Секция идентификатора создается соответствующей версией rpm, которая использовалась для сборки.

2) Сигнатура следует за начальным идентификатором. Подобно любой цифровой подписи сигнатура позволяет оценить впоследствии целостность пакета. Сигнатура является результатом выполнения некоторой функции над заголовком и нагрузкой. Это может быть криптофункция, например PGP или хэш-функция, например дайджест MD5.

3) Заголовок содержит ноль или более полей данных, описывающих пакет. В служебные поля заключается информация о правах на программное обеспечение, версия, описание пакета и некоторые другие сведения.

4) Нагрузка содержит файлы, которые используются в проекте. Когда отдана команда на установку пакета, эти файлы копируются в систему в нужные места. Все дерево каталогов и файлов пакета сжато с помощью gzip.


## 3 Существует два типа пакетов rpm - бинарные и с исходным кодом. 

**Бинарные пакеты** содержат полный набор приложений и библиотек, собранных для определенной процессорной архитектуры. Работа этих приложений часто зависит от других приложений (библиотек), которые в свою очередь содержатся в иных бинарных rpm-пакетах.

Хотя большая часть пакетов включает приложения, некоторые пакеты содержат только библиотеки функций. Пакеты библиотек позволяют поддерживать работу множества приложений с помощью одной библиотеки (shared libraries). Поэтому, как правило, библиотеки входят в пакеты, не содержащие приложений.

В дополнение к бинарным пакетам для определенных архитектур, rpm поддерживает концепцию независимых от платформы бинарных пакетов (noarch-пакетов), предоставляющих библиотеки или коллекции сценариев (скриптов), работа которых не зависит от конкретной платформы. Приложения, написанные на Perl, Python или shell не связаны необходимостью компиляции. Многие приложения Java также не зависят от платформы.

**Пакеты с исходным кодом**. В соответствии с соглашениями об именовании, имя файла пакета с исходным кодом оканчивается постфиксом src.rpm. 
src.rpm-пакет содержит средства, необходимые для сборки бинарного пакета. Наличие такого пакета означает, что **можно пересобрать бинарный пакет**, сделав необходимые изменения или исправления, либо для другой процессорной архитектуры. 


## 4 Как получить теги заголовка пакета? Поясните назначение некоторых из них. 

**Заголовок пакета** содержит теги, описывающие пакет. В них содержится информация о правах на программное обеспечение, версия, описание пакета и некоторые другие сведения. 

Для пользователя обычно наиболее интересны следующие теги: 

1. name – имя программы;
2. version – версия программы;
3. release – версия сборки;
4. license – лицензия, по которой распространяется пакет;
5. summary – краткое описание пакета;
6. description – описание пакета;
7. group – группа/подгруппа программного обеспечения; Содержимое group указывает, к какой категории программного обеспечения относится пакет: системное программное обеспечение; прикладное программное обеспечение; инструментальное программное обеспечение. 
8. vendor – сборщик пакета.

Получить список тегов можно с помощью команды rpm --querytags


## 5 Где хранятся файлы базы данных rpm? 

База данных RPM хранит информацию о всех установленных пакетах. Эта база может использоваться для запросов, касающихся того, что установлено, для информирования о версиях установленного ПО, для оценки целостности пакетов и системы.

Файлы базы данных располагаются в каталоге /var/lib/rpm


## 6 Перечислите основные режимы консольного менеджера пакетов rpm. 

В RPM используется несколько основных режимов команд: 

Install (используется для установки любого пакета RPM), 

Remove (используется для удаления, стирания или деинсталляции пакета), 

Upgrade (используется для обновления существующего пакета), 

Query (используется для запроса пакета) и Verify (используется для проверки пакетов RPM).


# Практика. 

Два самых популярных пакетов установки программного обеспечения в Линукс.

DEB это пакеты Debian подобных дистрибутивов: Debian, Ubunta, Mint, Q4OS и тд.

RPM это пакеты дистрибутивов на базе RedHat: Fedora, ROSA, OpenMandriva, Mandrake Linux, Fubuntu, CentOS и тд. 

Посмотрим на примере Fubuntu. Получить: 

Список пакетов, установленных в системе rpm -qa

![rpm -qa](https://sun9-5.userapi.com/impg/rFB7C4tyL0kdET4XlPhqJNlouLWkCozYM6UtTQ/F8Bbi3jye-Y.jpg?size=335x41&quality=95&sign=3f11b8c29d724a247e67beedda9d1000&type=album)

Информацию о пакете, включая лицензию rpm -qi имя_пакета 

![rpm -qi](https://sun9-45.userapi.com/impg/9NQQj-G5IUP5aKPZEsNB43tGm0OZI4Hb0edugQ/ZjDqZMSiMXY.jpg?size=814x450&quality=95&sign=dbffbaad6f9c4a6e6964faaec15c5a39&type=album) 

![rpm -qi](https://sun9-32.userapi.com/impg/SKid7fQbAglzqzttgcTdRzdAcD0iLvEiXs5F9w/ssqT1vRI8yk.jpg?size=846x371&quality=95&sign=1275fbaa52c0e43976c9cd13abc31930&type=album) 

Список файлов, входящих в пакет rpm -ql имя_пакета 

![rpm -ql](https://sun9-68.userapi.com/impg/025EoxmTBbbkLzaJXr2qheXrzndWahVXycFB3g/0ocS-uyL_nE.jpg?size=614x627&quality=95&sign=50b7bfd17e3a69ff5697360cb80facf2&type=album) 
 
Конфигурационные файлы пакетов rpm -qc имя_пакета. 
Если конфигурационнные файлы в пакете есть, то команда rpm -qc их покажет, если нет ничего выведено не будет. 

![rpm -qc](https://sun9-73.userapi.com/impg/BvRjew8OddoEWsGMUvrEZs-VtDIl65r0nR_YyQ/UVGZ0fdYE3U.jpg?size=690x135&quality=95&sign=7cd2757ed1dfbfddc2c8bd62c4f9eee5&type=album) 

Файлы документации пакетов rpm -qd имя_пакета и прочитать файл

![rpm -qd](https://sun9-65.userapi.com/impg/Kj2IWYHgZni9m6052EWdOTPHIMrg5lfOeACmqw/zRc5I61oNRA.jpg?size=815x594&quality=95&sign=1a27b066adee0b3d3507618b8dc4ee65&type=album)

![текст](https://sun9-37.userapi.com/impg/uLrmMTehzpH8Su3rdCBS-rKWP8Tj_4SGjq8Szg/6vtKYJP9FCM.jpg?size=774x485&quality=95&sign=6d66f8e30d85c9eec1e1cfafda587774&type=albumrl)

Статусы файлов пакетов rpm -qs package_name 

![rpm -qs](https://sun9-66.userapi.com/impg/U71LNXYZCdMgqVOdkD8KQbGsMBkGOrSqOm5H1Q/Tk_68hO7OjU.jpg?size=706x655&quality=95&sign=a388551f2b410dc323acc88c99d65c42&type=album) 

![rpm -qs](https://sun9-26.userapi.com/impg/QZymwD0juNzBNHLhNoEekpB6008TfHHP2RPsiA/MExxKW1NDO0.jpg?size=595x146&quality=95&sign=735dc7708ede12885ed281b9b234b8ea&type=album)

Список изменений пакетов rpm -q --changelog package_name 

![rpm -q --changelog](https://sun9-9.userapi.com/impg/FGD5k7Fniy_MJ0WHQvBztmal2717u8lHvw7e4A/KbE3nkFKTS8.jpg?size=913x588&quality=95&sign=f0488c11a3984fdb897734aed9dd7b73&type=album)

![rpm -q --changelog](https://sun9-16.userapi.com/impg/yLu3FOmCUH4xCHIwAX91d3wKvUPXrKQTnb_y0A/25SvqJkQXss.jpg?size=922x489&quality=95&sign=7d2eadad03c6f0d5c5cf293db101caef&type=album) 
 
Даты инсталляции пакетов rpm -qa --last 

![rpm -qa --last](https://sun9-33.userapi.com/impg/kaGmCYamCUth5UdP0rRE9Xuc0LlnkB8iCpq0Kw/5FvGSrwssAk.jpg?size=842x625&quality=95&sign=aecf59fdd7bb0e40787c0dc1a51fdb9b&type=album)

Зависимости пакетов rpm -q --requires имя_пакета 

![rpm -q --requires](https://sun9-42.userapi.com/impg/GZy8lVuJgaQY9tgyM6QFBISbbH9zDIbuAqtYpA/9NDnVgWfpoQ.jpg?size=697x648&quality=95&sign=84504c57388e7374b669f4f2a904c19b&type=album) 

Удовлетворяемые зависимости пакетов
rpm -U --test имя_пакета 

![rpm -U --test](https://sun9-24.userapi.com/impg/eQ8nrnVhc1nnQ7eirq7-N5FaFwgXUlsQjvXFtg/oQ919b3tb5w.jpg?size=883x405&quality=95&sign=34bd283ce7f8328772be2295fce392bf&type=album) 

![rpm -U --test](https://sun9-17.userapi.com/impg/821tqe29jYUDLavbGkNoj8sB52V59EqWSVbJKg/sewZmx8Tk-0.jpg?size=885x351&quality=95&sign=0d379ce46d679130da98f50c2166e8ad&type=album) 